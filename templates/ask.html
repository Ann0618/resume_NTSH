import requests
import json

def Chatgpt_response(prompt):
    # 你的 API Key
    api_key = "YOUR_OPENAI_API_KEY"

    # OpenAI API endpoint
    open_ai_endpoint = "https://api.openai.com/v1/chat/completions"

    # 定義 HTTP 標頭
    headers = {
        "Content-Type": "application/json",
        "Authorization": f"Bearer {api_key}"
    }

    # 定義請求內容
    payload = {
        "model": "gpt-4o-mini",  # 建議使用目前可用模型
        "messages": [
            {"role": "user", "content": prompt}
        ],
        "max_completion_tokens": 1000,
        "top_p": 1.0,
        "frequency_penalty": 0.0,
        "presence_penalty": 0.0
    }

    # 發送請求
    response = requests.post(open_ai_endpoint, headers=headers, json=payload)

    # 確認請求成功
    if response.status_code == 200:
        data = response.json()
        return data["choices"][0]["message"]["content"]
    else:
        return f"Error {response.status_code}: {response.text}"
